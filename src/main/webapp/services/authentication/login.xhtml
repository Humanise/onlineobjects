<f:view contentType="text/html"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:o="http://onlineobjects.org/jsf"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:gui="http://humanise.dk/ui"
  xmlns:c="http://java.sun.com/jsp/jstl/core"
  locale="#{authenticationLoginView.locale}"
  transient="true"
  >

  <f:loadBundle basename="dk.in2isoft.onlineobjects.service.authentication.views.msg.AuthenticationLoginView" var="msg"/>

<o:doctype/>
<o:html>

  <o:head>
    <o:metatags/>
    <title>Authentication - OnlineObjects</title>
    <o:fonts/>
  </o:head>

  <o:body>
    <o:topBar/>
    <o:box narrow="true">
      <o:header level="0" styleClass="oo_space_bottom-2">#{msg.access_control}</o:header>
      <c:if test="#{authenticationLoginView.loggedIn}">
      <p class="current_user">#{msg.current_user}:
        <strong>#{authenticationLoginView.currentUserName}</strong>
        - <o:link href="#{authenticationLoginView.logOutLink}">#{msg.log_out}</o:link>
      </p>
      </c:if>
      <c:if test="#{not empty authenticationLoginView.message}">
        <div class="message">
        <div class="oo_message">
          <p>#{authenticationLoginView.message}</p>
        </div>
        </div>
      </c:if>
      <div class="body">
      <gui:form action="authenticate" name="formula" method="POST">
        <input type="hidden" name="redirect" value="#{authenticationLoginView.redirect}"/>
        <gui:field label="#{msg.username}" large="true">
          <gui:textInput inputName="username" name="username" large="true" autocomplete="username"/>
        </gui:field>
        <gui:field label="#{msg.password}" large="true">
          <gui:textInput inputName="password" name="password" secret="true" large="true" autocomplete="current-password"/>
        </gui:field>
        <gui:buttons>
          <gui:button text="#{msg.log_in}" submit="true" highlighted="true" large="true"/>
        </gui:buttons>
        <p class="link">
          <o:link name="signUpLink">#{msg.create_account}</o:link>
        </p>
        <p class="link">
          <o:link name="forgotLink">#{msg.i_forgot}</o:link>
        </p>
      </gui:form>
      </div>
    </o:box>
    <o:footer/>
    <o:dependency src="oo_message.css" from="core"/>
    <o:dependency src="oo_space.css" from="core"/>
    <o:dependency src="/services/authentication/css/style.css"/>
    <o:dependency src="/services/authentication/js/login.js"/>
  </o:body>
</o:html>

</f:view>
