<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:o="http://onlineobjects.org/jsf"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:gui="http://humanise.dk/ui"
  xmlns:c="http://java.sun.com/jsp/jstl/core"
>

  <f:loadBundle basename="dk.in2isoft.onlineobjects.apps.account.msg.AccountController" var="msg"/>

  <ui:composition template="templates/plain.xhtml">

    <ui:define name="body">
      <span id="js-account-data" data-key="#{accountPasswordView.key}"></span>

      <o:box spacious="true">
        <o:header level="0">#{msg.change_of_password}</o:header>
        <c:choose>
          <c:when test="#{accountPasswordView.found}">
            <div class="oo_text" style="margin: 20px 0;">
              <p>#{msg.hi} #{accountPasswordView.user.username}.</p>
              <p>#{msg.change_of_password_intro}</p>
            </div>
            <gui:form name="resetPasswordForm">
              <gui:field label="#{msg.new_password}">
                <gui:textInput key="password" secret="true" autocomplete="new-password"/>
              </gui:field>
              <gui:field label="#{msg.repeat_new_password}">
                <gui:textInput key="passwordAgain" secret="true" autocomplete="new-password"/>
              </gui:field>
              <gui:buttons>
                <gui:button text="#{msg.change_password}" submit="true"/>
              </gui:buttons>
            </gui:form>
          </c:when>
          <c:otherwise>
            <div class="oo_text" style="margin: 20px 0;">
              <p>#{msg.change_of_password_expired}</p>
            </div>
          </c:otherwise>
        </c:choose>
      </o:box>

      <o:dependency src="password.js" from="local"/>
      <o:dependency src="oo_text.css" from="core"/>
    </ui:define>

  </ui:composition>

</html>