<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:o="http://onlineobjects.org/jsf"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:gui="http://humanise.dk/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
>
	<ui:composition template="templates/plain.xhtml">

		<ui:define name="body">

      <div class="reader_analyze">
        <h1 class="reader_analyze_title">#{knowledgeAnalyzeView.analytics.documentTitle}</h1>

        <p>#{knowledgeAnalyzeView.message}</p>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Properties</h2>
          <table>
            <c:forEach items="#{knowledgeAnalyzeView.properties}" var="prop">
              <tr>
                <th>#{prop.key}</th>
                <td>#{prop.value}</td>
              </tr>
            </c:forEach>
          </table>
        </div>
        
        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Text</h2>
          <div class="reader_analyze_text">#{knowledgeAnalyzeView.analytics.text}</div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Names</h2>
          <div class="reader_analyze_words">
            <c:forEach items="#{knowledgeAnalyzeView.names}" var="word">
              <span class="reader_analyze_word">#{word}</span>
            </c:forEach>
          </div>
        </div>

        <ui:remove>
        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Simple words</h2>
          <div class="reader_analyze_words">
            <c:forEach items="#{knowledgeAnalyzeView.analytics.simpleWords}" var="word">
              <span class="reader_analyze_word">#{word}</span>
            </c:forEach>
          </div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Natural words</h2>
          <div class="reader_analyze_words">
            <c:forEach items="#{knowledgeAnalyzeView.analytics.naturalWords}" var="word">
              <span class="reader_analyze_word">#{word}</span>
            </c:forEach>
          </div>
        </div>
        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Word frequency</h2>
          <div class="reader_analyze_overflow">
          <table>
            <c:forEach items="#{knowledgeAnalyzeView.analytics.wordFrequency}" var="prop">
              <tr>
                <th>#{prop.key}</th>
                <td>#{prop.value}</td>
              </tr>
            </c:forEach>
          </table>
          </div>
        </div>
        </ui:remove>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Name candidates</h2>
          <div class="reader_analyze_overflow">
            <c:forEach items="#{knowledgeAnalyzeView.analytics.nameCandidates}" var="candidate">
              <p>#{candidate}</p>
            </c:forEach>
          </div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Sentences</h2>
          <div class="reader_analyze_sentences">
            <c:forEach items="#{knowledgeAnalyzeView.analytics.taggedSentences}" var="sentence">
              <p class="reader_analyze_sentence">
                <c:forEach items="#{sentence}" var="part">
                  <span class="reader_analyze_part #{part.significant ? 'is-significant' : ''}">#{part.text}<span class="reader_analyze_part_info">#{part.partOfSpeech}</span></span>
                </c:forEach>
              </p>
            </c:forEach>
          </div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Significant words</h2>
          <div class="reader_analyze_sentences">
            <c:forEach items="#{knowledgeAnalyzeView.analytics.significantWords}" var="part">
              <span class="reader_analyze_part">#{part.text}<span class="reader_analyze_part_info">#{part.partOfSpeech}</span></span>
            </c:forEach>
          </div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Word frequency</h2>
          <div class="reader_analyze_overflow">
          <table>
            <c:forEach items="#{knowledgeAnalyzeView.analytics.significantWordFrequency}" var="prop">
              <tr>
                <th>#{prop.key.text} [#{prop.key.partOfSpeech}]</th>
                <td>#{prop.value}</td>
              </tr>
            </c:forEach>
          </table>
          </div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Words by part of speech</h2>
          <div class="reader_analyze_overflow">
          <table>
            <c:forEach items="#{knowledgeAnalyzeView.wordsByPartOfSpeech}" var="prop">
              <tr>
                <th>#{prop.key}</th>
                <td>#{prop.value}</td>
              </tr>
            </c:forEach>
          </table>
          </div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">Similar</h2>
          <div class="reader_analyze_overflow">
          <table>
            <c:forEach items="#{knowledgeAnalyzeView.similar}" var="prop">
              <tr>
                <th>#{prop.key.name}</th>
                <td>#{prop.value}</td>
              </tr>
            </c:forEach>
          </table>
          </div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">HTML</h2>
          <div class="reader_analyze_html"><o:out value="#{knowledgeAnalyzeView.analytics.html}" escape="false"/></div>
        </div>

        <div class="reader_analyze_block">
          <h2 class="reader_analyze_block_title">XML</h2>
          <div class="reader_analyze_html"><pre>#{knowledgeAnalyzeView.analytics.xml}</pre></div>
        </div>
      </div>

      <o:dependency from="local" src="/css/reader_analyze.css"/>
    </ui:define>

  </ui:composition>


</html>