<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  
  
  <title>SimpleFacetParameters - Solr Wiki</title>    
  
  
  
  
  
  
  
  
 </head>
 <body>
  
   
    <h1>SimpleFacetParameters - Solr Wiki</h1>
    
     <p>The upper bound of the ranges. </p>
     <p>This parameter can be specified on a per field basis. </p>
      
      <p>The size of each range expressed as a value to be added to the lower bound. For date fields, this should be expressed using the <a href="http://lucene.apache.org/solr/4_0_0/solr-core/org/apache/solr/util/DateMathParser.html">DateMathParser</a> syntax. (ie: <tt>facet.range.gap=%2B1DAY</tt>, decoded = "+1DAY", URL encoding uses a normal plus sign as a space, so passing a plus to Solr request URL Hex encoding as %2B ) </p> 
      <p>This parameter can be specified on a per field basis. </p> 
      <p>Example: <tt>f.price.facet.range.gap=100&amp;f.age.facet.range.gap=10</tt> </p> 
      <p><img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr3.6">Solr3.6</a>, <a href="/solr/Solr4.0">Solr4.0</a> -- See <a href="https://issues.apache.org/jira/browse/SOLR-2366">https://issues.apache.org/jira/browse/SOLR-2366</a> The following section on variable width gaps discusses uncommitted code Gaps can also be variable width by passing in a comma separated list of the gap size to be used. The last gap specified will be used to fill out all remaining gaps if the number of gaps given does not go evenly into the range. Variable width gaps are useful, for example, in spatial applications where one might want to facet by distance into three buckets: walking (0-5KM), driving(5-100KM), other(100KM+). </p> 
      <p>Example: <tt>facet.date.gap=1,2,3,10</tt> -- This creates 4+ buckets of size, 1, 2, 3 and then 0 or more buckets of 10 days each, depending on the start and end values. </p> 
      <h3>facet.range.hardend</h3> 
       
       <p>A Boolean parameter instructing Solr what to do in the event that <tt>facet.range.gap</tt> does not divide evenly between <tt>facet.range.start</tt> and <tt>facet.range.end</tt>. If this is true, the last range constraint will have an upper bound of <tt>facet.range.end</tt>; if false, the last range will have the smallest possible upper bound greater then <tt>facet.range.end</tt> such that the range is exactly <tt>facet.range.gap</tt> wide. </p> 
       <p>The default is false. </p> 
       <p>This parameter can be specified on a per field basis. </p> 
       <h3>facet.range.other</h3> 
        
        <p>This param indicates that in addition to the counts for each range constraint between <tt>facet.range.start</tt> and <tt>facet.range.end</tt>, counts should also be computed for... </p> 
        <ul>
         <li>
          <p><tt>before</tt> all records with field values lower then lower bound of the first range </p>
         </li>
         <li>
          <p><tt>after</tt> all records with field values greater then the upper bound of the last range </p>
         </li>
         <li>
          <p><tt>between</tt> all records with field values between the start and end bounds of all ranges </p>
         </li>
         <li>
          <p><tt>none</tt> compute none of this information </p>
         </li>
         <li>
          <p><tt>all</tt> shortcut for <tt>before</tt>, <tt>between</tt>, and <tt>after</tt> </p>
         </li>
        </ul> 
        <p>This parameter can be specified on a per field basis. </p> 
        <p>In addition to the <tt>all</tt> option, this parameter can be specified multiple times to indicate multiple choices -- but <tt>none</tt> will override all other options. </p> 
        <h3>facet.range.include</h3> 
         
         <p>By default, the ranges used to compute range faceting between facet.range.start and facet.range.end are inclusive of their lower bounds and exclusive of the upper bounds. The "before" range is exclusive and the "after" range is inclusive. This default, equivalent to <tt>lower</tt> below, will <em>not</em> result in double counting at the boundaries. This behavior can be modified by the <tt>facet.range.include</tt> param, which can be any combination of the following options... </p> 
         <ul>
          <li>
           <p><tt>lower</tt> = all gap based ranges include their lower bound </p>
          </li>
          <li>
           <p><tt>upper</tt> = all gap based ranges include their upper bound </p>
          </li>
          <li>
           <p><tt>edge</tt> = the first and last gap ranges include their edge bounds (ie: lower for the first one, upper for the last one) even if the corresponding upper/lower option is not specified </p>
          </li>
          <li>
           <p><tt>outer</tt> = the "before" and "after" ranges will be inclusive of their bounds, even if the first or last ranges already include those boundaries. </p>
          </li>
          <li>
           <p><tt>all</tt> = shorthand for lower, upper, edge, outer </p>
          </li>
         </ul> 
         <p>This parameter can be specified on a per field basis. </p> 
         <p>This parameter can be specified multiple times to indicate multiple choices. </p> 
         <p>If you want to ensure you don't double-count, don't choose both lower &amp; upper, don't choose outer, and don't choose all. </p> 
         <h2>Multi-Select Faceting and LocalParams</h2> 
          
          <p><img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr1.4">Solr1.4</a> The <a href="/solr/LocalParams">LocalParams</a> syntax provides a method of adding meta-data to other parameter values, much like XML attributes. </p> 
          <h3>Tagging and excluding Filters</h3> 
           
           <p>One can tag specific filters and exclude those filters when faceting. This is generally needed when doing multi-select faceting. </p> 
           <p>Consider the following example query with faceting: </p> 
           <pre>q=mainquery&amp;fq=status:public&amp;fq=doctype:pdf&amp;facet=on&amp;facet.field=doctype</pre> 
            
            <p>Because everything is already constrained by the filter <tt>doctype:pdf</tt>, the <tt>facet.field=doctype</tt> facet command is currently redundant and will return 0 counts for everything except <tt>doctype:pdf</tt>. </p> 
            <p>To implement a multi-select facet for doctype, a GUI may want to still display the other doctype values and their associated counts, as if the <tt>doctype:pdf</tt> constraint had not yet been applied. Example: </p> 
            <pre>=== Document Type ===
  [ ] Word (42)
  [x] PDF  (96)
  [ ] Excel(11)
  [ ] HTML (63)</pre> 
             
             <p>To return counts for doctype values that are currently not selected, tag filters that directly constrain doctype, and exclude those filters when faceting on doctype. </p> 
             <pre>q=mainquery&amp;fq=status:public&amp;fq={!tag=dt}doctype:pdf&amp;facet=on&amp;facet.field={!ex=dt}doctype</pre> 
              
              <p>Filter exclusion is supported for all types of facets. Both the <tt>tag</tt> and <tt>ex</tt> local params may specify multiple values by separating them with commas. </p> 
              <p><img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr3.1">Solr3.1</a> Starting with Solr 3.1, the primary relevance query (i.e. the one normally specified by the <strong>q</strong> parameter) may also be excluded. </p> 
              <h3>key : Changing the output key</h3> 
               
               <p>To change the output key for a faceting command, specify a new name via the <tt>key</tt> local param. For example, </p> 
               <pre>facet.field={!ex=dt key=mylabel}doctype</pre> 
                
                <p>Will cause the results to be returned under the key "mylabel" rather than "doctype" in the response. This can be helpful when faceting on the same field multiple times with different exclusions. </p> 
                <h2>Pivot (ie Decision Tree) Faceting</h2> 
                 
                 <p><img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr4.0">Solr4.0</a> Pivot faceting allows you to facet within the results of the parent facet </p> 
                 <h3>facet.pivot</h3> 
                  
                  <p>A list of fields to pivot. Multiple values will create multiple sections in the response </p> 
                  <pre>&amp;facet.pivot=cat,popularity,inStock&amp;facet.pivot=popularity,cat</pre> 
                   
                   <h3>facet.pivot.mincount</h3> 
                    
                    <p>The minimum number of documents that need to match for the result to show up in the results. Default value is 1 </p> 
                    <h2>Interval Faceting</h2> 
                     
                     <p><img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr4.10">Solr4.10</a> Another supported form of faceting is “Interval Faceting”. This sounds similar to “Range Faceting”, but the functionality is really closer to doing “Facet Queries” with range queries. Interval Faceting allows you to set variable intervals and count the number of documents that have values within those intervals in the specified field. Before <img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr5.2">Solr5.2</a>, fields used for Interval Faceting had to have “docValues” enabled, but this is no longer a restriction. <a href="/solr/DocValues">DocValues</a> will be used if present, but fieldCache will be used otherwise. </p> 
                     <p>Even though the same functionality can be achieved by using facet query with range queries, the implementation of these two methods is very different and will provide different performance depending on the context. If you are concerned about the performance of your searches you should test with both options. Interval Faceting tends to be better with multiple intervals for the same fields, while facet query tend to be better in environments where cache is more effective (static indexes for example) </p> 
                     <h3>facet.interval</h3> 
                      
                      <p>This parameter Indicate the field where interval faceting must be applied. It can be used multiple times in the same request to indicate multiple fields. </p> 
                      <pre>&amp;facet.interval=price&amp;facet.interval=size</pre> 
                       
                        <h3>facet.interval.set</h3> 
                         
                         <p>This parameter is used to set the intervals for the field. This parameter can be specified multiple times to indicate multiple intervals. This parameter is global, which means that it will be used for all fields indicated with facet.interval unless there is an override for a specific field. To override this parameter on a specific field you can use: f.&lt;fieldname&gt;.facet.interval.set </p> 
                         <pre>&amp;f.price.facet.interval.set=[0,10]&amp;f.price.facet.interval.set=(10,100]</pre> 
                          
                           <h3>Interval Syntax</h3> 
                            
                            <p>Intervals must begin with either '(' or '[', be followed by the start value, then a comma ',', the end value, and finally ')' or ']’. </p> 
                            <p>For example: </p> 
                            <ul>
                             <li>
                              <p>(1,10) -&gt; will include values greater than 1 and lower than 10 </p>
                             </li>
                             <li>
                              <p>[1,10) -&gt; will include values greater or equal to 1 and lower than 10 </p>
                             </li>
                             <li>
                              <p>[1,10] -&gt; will include values greater or equal to 1 and lower or equal to 10 </p>
                             </li>
                            </ul> 
                            <p>The initial and end values can't be empty, if the interval needs to be unbounded, the special character '*' can be used for both, start and end limit. When using '*', '(' and '[', and ')' and ']' will be treated equal. [*,*] will include all documents with a value in the field. The interval limits may be strings, there is no need to add quotes, all the text until the comma will be treated as the start limit, and the text after that will be the end limit, for example: [Buenos Aires, New York]. Keep in mind that a string-like comparison will be done to match documents in string intervals (case-sensitive). The comparator can't be changed. Commas, brackets and square brackets can be escaped by using '\' in front of them. Whitespaces before and after the values will be omitted. Start limit can't be grater than the end limit. Equal limits are allowed, this allows you to indicate the specific values that you want to count, like [A,A], [B,B] and [C,Z]. </p> 
                            <h3>Changing the interval Keys</h3> 
                             
                             <p>Similar than with facet queries, with Interval Faceting the keys of the intervals can be changed by using the “key” <a href="/solr/LocalParam">LocalParam</a>. </p> 
                             <pre>&amp;f.price.facet.interval.set={!key=foo}[0,10]&amp;f.price.facet.interval.set={!key=bar}[10,100]</pre> 
                               
                              <h2>facet.zeros</h2> 
                               
                              <p>Set to "true" this param indicates that constraint counts for facet fields should be included even if the count is "0", set to "false" or blank and the "0" counts will be suppressed to save on the amount of data returned in the response. </p> 
                              <p>The default value is "true". </p> 
                              <p>This parameter can be specified on a per field basis. </p> 
                              <p>Use facet.mincount instead. </p> 
                               
                              <p><strong>Note:</strong> In many of these examples "rows" is set to 0 so that the main result set is empty, to better emphasize the facet data. </p> 
                              <h2>Facet Fields</h2> 
                               
                              <p><tt>http://localhost:8983/solr/select?q=ipod&amp;rows=0&amp;facet=true&amp;facet.limit=-1&amp;facet.field=cat&amp;facet.field=inStock</tt> </p> 
                              <pre>&lt;response&gt;
&lt;responseHeader&gt;&lt;status&gt;0&lt;/status&gt;&lt;QTime&gt;2&lt;/QTime&gt;&lt;/responseHeader&gt;
&lt;result numFound="4" start="0"/&gt;
&lt;lst name="facet_counts"&gt;
 &lt;lst name="facet_queries"/&gt;
 &lt;lst name="facet_fields"&gt;
  &lt;lst name="cat"&gt;
        &lt;int name="search"&gt;0&lt;/int&gt;
        &lt;int name="memory"&gt;0&lt;/int&gt;
        &lt;int name="graphics"&gt;0&lt;/int&gt;
        &lt;int name="card"&gt;0&lt;/int&gt;
        &lt;int name="music"&gt;1&lt;/int&gt;
        &lt;int name="software"&gt;0&lt;/int&gt;
        &lt;int name="electronics"&gt;3&lt;/int&gt;
        &lt;int name="copier"&gt;0&lt;/int&gt;
        &lt;int name="multifunction"&gt;0&lt;/int&gt;
        &lt;int name="camera"&gt;0&lt;/int&gt;
        &lt;int name="connector"&gt;2&lt;/int&gt;
        &lt;int name="hard"&gt;0&lt;/int&gt;
        &lt;int name="scanner"&gt;0&lt;/int&gt;
        &lt;int name="monitor"&gt;0&lt;/int&gt;
        &lt;int name="drive"&gt;0&lt;/int&gt;
        &lt;int name="printer"&gt;0&lt;/int&gt;
  &lt;/lst&gt;
  &lt;lst name="inStock"&gt;
        &lt;int name="false"&gt;3&lt;/int&gt;
        &lt;int name="true"&gt;1&lt;/int&gt;
  &lt;/lst&gt;
 &lt;/lst&gt;
&lt;/lst&gt;
&lt;/response&gt;</pre> 
                               
                              <h2>Facet Fields with No Zeros</h2> 
                               
                              <p><tt>http://localhost:8983/solr/select?q=ipod&amp;rows=0&amp;facet=true&amp;facet.limit=-1&amp;facet.field=cat&amp;facet.mincount=1&amp;facet.field=inStock</tt> </p> 
                              <pre>&lt;response&gt;
&lt;responseHeader&gt;&lt;status&gt;0&lt;/status&gt;&lt;QTime&gt;3&lt;/QTime&gt;&lt;/responseHeader&gt;
&lt;result numFound="4" start="0"/&gt;
&lt;lst name="facet_counts"&gt;
 &lt;lst name="facet_queries"/&gt;
 &lt;lst name="facet_fields"&gt;
  &lt;lst name="cat"&gt;
        &lt;int name="music"&gt;1&lt;/int&gt;
        &lt;int name="connector"&gt;2&lt;/int&gt;
        &lt;int name="electronics"&gt;3&lt;/int&gt;
  &lt;/lst&gt;
  &lt;lst name="inStock"&gt;
        &lt;int name="false"&gt;3&lt;/int&gt;
        &lt;int name="true"&gt;1&lt;/int&gt;
  &lt;/lst&gt;
 &lt;/lst&gt;
&lt;/lst&gt;
&lt;/response&gt;</pre> 
                               
                              <h2>Facet Fields with No Zeros And Missing Count For One Field</h2> 
                               
                              <p><tt>http://localhost:8983/solr/select?q=ipod&amp;rows=0&amp;facet=true&amp;facet.limit=-1&amp;facet.field=cat&amp;f.cat.facet.missing=true&amp;facet.mincount=1&amp;facet.field=inStock</tt> </p> 
                              <pre>&lt;response&gt;
&lt;responseHeader&gt;&lt;status&gt;0&lt;/status&gt;&lt;QTime&gt;3&lt;/QTime&gt;&lt;/responseHeader&gt;
&lt;result numFound="4" start="0"/&gt;
&lt;lst name="facet_counts"&gt;
 &lt;lst name="facet_queries"/&gt;
 &lt;lst name="facet_fields"&gt;
  &lt;lst name="cat"&gt;
        &lt;int name="music"&gt;1&lt;/int&gt;
        &lt;int name="connector"&gt;2&lt;/int&gt;
        &lt;int name="electronics"&gt;3&lt;/int&gt;
        &lt;int&gt;1&lt;/int&gt;
  &lt;/lst&gt;
  &lt;lst name="inStock"&gt;
        &lt;int name="false"&gt;3&lt;/int&gt;
        &lt;int name="true"&gt;1&lt;/int&gt;
  &lt;/lst&gt;
 &lt;/lst&gt;
&lt;/lst&gt;
&lt;/response&gt;</pre> 
                               
                              <h2>Facet Field with Limit</h2> 
                               
                              <p><tt>http://localhost:8983/solr/select?rows=0&amp;q=inStock:true&amp;facet=true&amp;facet.field=cat&amp;facet.limit=5</tt> </p> 
                              <pre>&lt;response&gt;
&lt;responseHeader&gt;&lt;status&gt;0&lt;/status&gt;&lt;QTime&gt;4&lt;/QTime&gt;&lt;/responseHeader&gt;
&lt;result numFound="12" start="0"/&gt;
&lt;lst name="facet_counts"&gt;
 &lt;lst name="facet_queries"/&gt;
 &lt;lst name="facet_fields"&gt;
  &lt;lst name="cat"&gt;
        &lt;int name="electronics"&gt;10&lt;/int&gt;
        &lt;int name="memory"&gt;3&lt;/int&gt;
        &lt;int name="drive"&gt;2&lt;/int&gt;
        &lt;int name="hard"&gt;2&lt;/int&gt;
        &lt;int name="monitor"&gt;2&lt;/int&gt;
  &lt;/lst&gt;
 &lt;/lst&gt;
&lt;/lst&gt;
&lt;/response&gt;</pre> 
                               
                              <h2>Facet Fields and Facet Queries</h2> 
                               
                              <p><tt>http://localhost:8983/solr/select?q=video&amp;rows=0&amp;facet=true&amp;facet.field=inStock&amp;facet.query=price:[*+TO+500]&amp;facet.query=price:[500+TO+*]</tt> </p> 
                              <pre>&lt;response&gt;
&lt;responseHeader&gt;&lt;status&gt;0&lt;/status&gt;&lt;QTime&gt;11&lt;/QTime&gt;&lt;/responseHeader&gt;
&lt;result numFound="3" start="0"/&gt;
&lt;lst name="facet_counts"&gt;
 &lt;lst name="facet_queries"&gt;
  &lt;int name="price:[* TO 500]"&gt;2&lt;/int&gt;
  &lt;int name="price:[500 TO *]"&gt;1&lt;/int&gt;
 &lt;/lst&gt;
 &lt;lst name="facet_fields"&gt;
  &lt;lst name="inStock"&gt;
        &lt;int name="false"&gt;2&lt;/int&gt;
        &lt;int name="true"&gt;1&lt;/int&gt;
  &lt;/lst&gt;
 &lt;/lst&gt;
&lt;/lst&gt;
&lt;/response&gt;</pre> 
                               
                              <h2>Facet prefix (term suggest)</h2> 
                               
                              <p><tt>http://localhost:8983/solr/select?q=hatcher&amp;wt=ruby&amp;indent=on&amp;facet=on&amp;rows=0&amp;facet.field=text&amp;facet.prefix=xx&amp;facet.limit=5&amp;facet.mincount=1</tt> </p> 
                              <pre>{
'responseHeader'=&gt;{
  'status'=&gt;0,
  'QTime'=&gt;88,
  'params'=&gt;{
        'facet.limit'=&gt;'5',
        'wt'=&gt;'ruby',
        'rows'=&gt;'0',
        'facet'=&gt;'on',
        'facet.mincount'=&gt;'1',
        'facet.field'=&gt;'text',
        'indent'=&gt;'on',
        'facet.prefix'=&gt;'xx',
        'q'=&gt;'hatcher'}},
'response'=&gt;{'numFound'=&gt;90,'start'=&gt;0,'docs'=&gt;[]
},
'facet_counts'=&gt;{
  'facet_queries'=&gt;{},
  'facet_fields'=&gt;{
        'text'=&gt;[
         'xx',7,
         'xxxviii',2,
         'xx909337',1,
         'xxvi',1] } } }</pre> 
                               
                              <h2>Date Faceting: per day for the past 5 days</h2> 
                               
                              <p><img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr1.3">Solr1.3</a> </p> 
                              <p><tt>http://localhost:8983/solr/select/?q=*:*&amp;rows=0&amp;facet=true&amp;facet.date=timestamp&amp;facet.date.start=NOW/DAY-5DAYS&amp;facet.date.end=NOW/DAY%2B1DAY&amp;facet.date.gap=%2B1DAY</tt> </p> 
                              <pre>&lt;response&gt;
&lt;lst name="responseHeader"&gt;
 &lt;int name="status"&gt;0&lt;/int&gt;
 &lt;int name="QTime"&gt;5&lt;/int&gt;
 &lt;lst name="params"&gt;
  &lt;str name="facet.date"&gt;timestamp&lt;/str&gt;
  &lt;str name="facet.date.end"&gt;NOW/DAY+1DAY&lt;/str&gt;
  &lt;str name="facet.date.gap"&gt;+1DAY&lt;/str&gt;
  &lt;str name="rows"&gt;0&lt;/str&gt;
  &lt;str name="facet"&gt;true&lt;/str&gt;
  &lt;str name="facet.date.start"&gt;NOW/DAY-5DAYS&lt;/str&gt;
  &lt;str name="indent"&gt;true&lt;/str&gt;
  &lt;str name="q"&gt;*:*&lt;/str&gt;
 &lt;/lst&gt;
&lt;/lst&gt;
&lt;result name="response" numFound="42" start="0"/&gt;
&lt;lst name="facet_counts"&gt;
 &lt;lst name="facet_queries"/&gt;
 &lt;lst name="facet_fields"/&gt;
 &lt;lst name="facet_dates"&gt;
  &lt;lst name="timestamp"&gt;
        &lt;int name="2007-08-11T00:00:00.000Z"&gt;1&lt;/int&gt;
        &lt;int name="2007-08-12T00:00:00.000Z"&gt;5&lt;/int&gt;
        &lt;int name="2007-08-13T00:00:00.000Z"&gt;3&lt;/int&gt;
        &lt;int name="2007-08-14T00:00:00.000Z"&gt;7&lt;/int&gt;
        &lt;int name="2007-08-15T00:00:00.000Z"&gt;2&lt;/int&gt;
        &lt;int name="2007-08-16T00:00:00.000Z"&gt;16&lt;/int&gt;
        &lt;str name="gap"&gt;+1DAY&lt;/str&gt;
        &lt;date name="end"&gt;2007-08-17T00:00:00Z&lt;/date&gt;
  &lt;/lst&gt;
 &lt;/lst&gt;
&lt;/lst&gt;
&lt;/response&gt;</pre> 
                               
                              <h2>Retrieve docs with facets missing</h2> 
                               
                              <p>All the docs counted by facet.missing can be retrieved using a query filter: <tt>fq=-facetField:[* TO *]</tt> </p> 
                              <h2>Pivot (ie Decision Tree) Faceting</h2> 
                               
                              <p><img height="16" src="/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> <a href="/solr/Solr4.0">Solr4.0</a> </p> 
                              <p><tt>http://localhost:8983/solr/select?q=*:*&amp;facet.pivot=cat,popularity,inStock&amp;facet.pivot=popularity,cat&amp;facet=true&amp;facet.field=cat&amp;facet.limit=5&amp;rows=0&amp;wt=json&amp;indent=true&amp;facet.pivot.mincount=0</tt> </p> 
                              <pre>"facet_pivot":{
      "cat,popularity,inStock":[{
          "field":"cat",
          "value":"electronics",
          "count":14,
          "pivot":[{
              "field":"popularity",
              "value":"6",
              "count":5,
              "pivot":[{
                  "field":"inStock",
                  "value":"true",
                  "count":5}]},
            {
              "field":"popularity",
              "value":"7",
              "count":4,
              "pivot":[{
                  "field":"inStock",
                  "value":"false",
                  "count":2},
                {
                  "field":"inStock",
                  "value":"true",
                  "count":2}]},
            {
...</pre> 
                               
                              <h2>Interval Faceting</h2> 
                               
                              <p>NOTE: make sure docValues="true" on the "price" field of your example schema before running this query <tt>http://localhost:8983/solr/select?q=*:*&amp;facet=true&amp;facet.interval=price&amp;f.price.facet.interval.set=[0,10]&amp;f.price.facet.interval.set=%2810,100]&amp;f.price.facet.interval.set=%28100,*]</tt> </p> 
                              <pre>...
&lt;lst name="facet_counts"&gt;
  &lt;lst name="facet_queries"/&gt;
  &lt;lst name="facet_fields"/&gt;
  &lt;lst name="facet_dates"/&gt;
  &lt;lst name="facet_ranges"/&gt;
  &lt;lst name="facet_intervals"&gt;
    &lt;lst name="price"&gt;
      &lt;int name="[0,10]"&gt;3&lt;/int&gt;
      &lt;int name="(10,100]"&gt;4&lt;/int&gt;
      &lt;int name="(100,*]"&gt;9&lt;/int&gt;
    &lt;/lst&gt;
  &lt;/lst&gt;
&lt;/lst&gt;
...</pre> 
                               
                              <h3>Changing the key per interval</h3> 
                               
                              <p><tt>http://localhost:8983/solr/select?q=*:*&amp;facet=true&amp;facet.interval=price&amp;f.price.facet.interval.set={!key='cheap'}[0,10]&amp;f.price.facet.interval.set={!key='average'}%2810,100]&amp;f.price.facet.interval.set={!key='expensive'}%28100,*]</tt> </p> 
                              <pre>&lt;lst name="facet_counts"&gt;
  &lt;lst name="facet_queries"/&gt;
  &lt;lst name="facet_fields"/&gt;
  &lt;lst name="facet_dates"/&gt;
  &lt;lst name="facet_ranges"/&gt;
  &lt;lst name="facet_intervals"&gt;
    &lt;lst name="price"&gt;
      &lt;int name="cheap"&gt;3&lt;/int&gt;
      &lt;int name="average"&gt;4&lt;/int&gt;
      &lt;int name="expensive"&gt;9&lt;/int&gt;
    &lt;/lst&gt;
  &lt;/lst&gt;
&lt;/lst&gt;</pre> 
                                
                              <p>facet.field queries using the term enumeration method can avoid the evaluation of some terms for greater efficiency. To force the evaluation of all terms for warming, the base query should match a single document. </p> 
                                
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                               
                                
                             
                            
                           
                         
                        
                      
                     
                    
                   
                  
                 
                
               
              
             
            
           
          
         
        
       
     
    
   
  
 </body>
</html>
